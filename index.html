<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>‚öΩ Motor Estat√≠stico de Apostas</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0f172a;
            color: #e5e7eb;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: auto;
            background: #020617;
            padding: 20px;
            border-radius: 8px;
        }

        h1,
        h2 {
            text-align: center;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .box {
            border: 1px solid #1e293b;
            padding: 15px;
            border-radius: 6px;
        }

        label {
            font-size: 14px;
            display: block;
            margin-top: 8px;
        }

        input,
        textarea {
            width: 100%;
            padding: 8px;
            margin-top: 4px;
            background: #020617;
            border: 1px solid #334155;
            color: #e5e7eb;
            border-radius: 4px;
            font-family: monospace;
        }

        textarea {
            resize: vertical;
        }

        button {
            width: 100%;
            padding: 12px;
            margin-top: 20px;
            background: #2563eb;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 6px;
        }

        button:hover {
            background: #1d4ed8;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            background: #020617;
            border-left: 5px solid #38bdf8;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 4px;
        }

        .melhor {
            border-left-color: #f97316;
            background: #1e293b;
            font-size: 17px;
        }

        .info {
            font-size: 13px;
            color: #94a3b8;
            margin-top: 6px;
        }
    </style>
</head>

<body>

    <h1>‚öΩ Motor Estat√≠stico de Apostas</h1>

    <div class="container">

        <div class="grid">

            <!-- DADOS REAIS -->
            <div class="box">
                <h2>Probabilidades reais (√∫ltimos jogos)</h2>

                <label>Over 2.5 (%)</label>
                <input id="over25" type="number" step="0.1">

                <label>Under 2.5 (%)</label>
                <input id="under25" type="number" step="0.1">

                <label>BTTS Sim (%)</label>
                <input id="bttsSim" type="number" step="0.1">

                <label>BTTS N√£o (%)</label>
                <input id="bttsNao" type="number" step="0.1">

                <p class="info">
                    Esses dados entram no c√°lculo com peso.<br>
                    Representam tend√™ncia real recente.
                </p>
            </div>

            <!-- PLACARES DIN√ÇMICOS -->
            <div class="box">
                <h2>Placares prov√°veis (din√¢mico)</h2>

                <p class="info">
                    Formato: placar=probabilidade (%)<br>
                    Exemplo: 1x0=12.5
                </p>

                <textarea id="placares" rows="10">
0x0=6.9
1x1=11.9
1x0=11.1
2x1=9.5
2x0=8.9
0x1=7.4
</textarea>
            </div>

        </div>

        <button onclick="gerarSugestoes()">Gerar Sugest√µes</button>

        <h2>üìå Sugest√µes de Aposta (ordenadas)</h2>
        <ul id="resultado"></ul>

    </div>

    <script>
        // ============================
        // CONFIGURA√á√ÉO DE PESOS
        // ============================
        const PESO_MODELO = 0.65; // placares
        const PESO_REAL = 0.35; // dados hist√≥ricos

        // ============================
        // LEITURA DOS PLACARES
        // ============================
        function lerPlacares(texto) {
            const linhas = texto.split("\n");
            const dados = [];

            linhas.forEach(l => {
                l = l.trim();
                if (!l || !l.includes("=")) return;

                const [placar, valor] = l.split("=");
                const prob = parseFloat(valor.replace(",", "."));

                if (!placar.includes("x") || isNaN(prob)) return;

                dados.push({ placar, prob });
            });

            const soma = dados.reduce((s, d) => s + d.prob, 0);
            if (soma === 0) return [];

            return dados.map(d => ({
                placar: d.placar,
                prob: d.prob / soma
            }));
        }

        // ============================
        // MOTOR ESTAT√çSTICO H√çBRIDO
        // ============================
        function gerarSugestoes() {

            const placares = lerPlacares(
                document.getElementById("placares").value
            );
            if (!placares.length) return;

            // Dados reais
            const realOver = (+over25.value || 0) / 100;
            const realUnder = (+under25.value || 0) / 100;
            const realBttsS = (+bttsSim.value || 0) / 100;
            const realBttsN = (+bttsNao.value || 0) / 100;

            let A = 0, B = 0, E = 0;
            let under = 0, over = 0;
            let bttsS = 0, bttsN = 0;
            let poucos = 0;

            placares.forEach(p => {
                const [x, y] = p.placar.split("x").map(Number);

                if (x > y) A += p.prob;
                else if (y > x) B += p.prob;
                else E += p.prob;

                if (x + y < 3) under += p.prob;
                else over += p.prob;

                if (x > 0 && y > 0) bttsS += p.prob;
                else bttsN += p.prob;

                if (x + y <= 2) poucos += p.prob;
            });

            // Combina√ß√£o ponderada
            const underFinal = under * PESO_MODELO + realUnder * PESO_REAL;
            const overFinal = over * PESO_MODELO + realOver * PESO_REAL;
            const bttsSFinal = bttsS * PESO_MODELO + realBttsS * PESO_REAL;
            const bttsNFinal = bttsN * PESO_MODELO + realBttsN * PESO_REAL;

            const apostas = [
                { txt: "Vit√≥ria Time A", prob: A },
                { txt: "Vit√≥ria Time B", prob: B },
                { txt: "Empate", prob: E },
                { txt: "Under 2.5 gols", prob: underFinal },
                { txt: "Over 2.5 gols", prob: overFinal },
                { txt: "Ambos marcam ‚Äî SIM", prob: bttsSFinal },
                { txt: "Ambos marcam ‚Äî N√ÉO", prob: bttsNFinal },
                { txt: "Poucos gols (‚â§2)", prob: poucos }
            ];

            apostas.sort((a, b) => b.prob - a.prob);

            const ul = document.getElementById("resultado");
            ul.innerHTML = "";

            apostas.forEach((a, i) => {
                const li = document.createElement("li");
                li.textContent = `${a.txt} ‚Äî ${(a.prob * 100).toFixed(1)}%`;
                if (i === 0) li.classList.add("melhor");
                ul.appendChild(li);
            });
        }
    </script>

</body>

</html>